---
title: 143. Reorder List
---

# 143. Reorder List

## 解答
1 list 分裂一半  
    slow=fast=head, slow+1, fast+2
2 reverse list  
    prev, curr, nextt  
3 inverleaved 2 list  
    tail, nextt, nextt1



### 實作

:::: code-group
::: code-group-item c++

``` cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */

class Solution {
public:
    void reorderList(ListNode* head) {
    if (!head || !head->next)
      return;

    ListNode* mid = findMid(head);
    ListNode* reversed = reverse(mid);
    merge(head, reversed);
    }
private:
  ListNode* findMid(ListNode* head) {
    ListNode* slow=head;
    ListNode* fast=head;
    while(fast && fast->next){
        slow=slow->next;
        fast=fast->next->next;
    }
    ListNode* second=slow->next;
    slow->next=nullptr;
    return second;
  }

  ListNode* reverse(ListNode* head) {
    ListNode* prev=nullptr;
    ListNode* curr=head;
    while(curr){
        ListNode* nextt=curr->next;
        curr->next=prev;
        prev=curr;
        curr=nextt;
        
    }
      return prev;
  }

  void merge(ListNode* l1, ListNode* l2) {
    while (l2) {
      ListNode* next = l1->next;
      l1->next = l2;
      l1 = l2;
      l2 = next;

  }
  }
};

```

:::
::: code-group-item python

``` python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
def _sp(head):
    fast=head
    slow=head
    while fast and fast.next:
        slow=slow.next
        fast=fast.next.next
    second=slow.next
    slow.next=None
    return head,second
def _reverse(head):
    prev=None
    curr=head
    while curr:
        nextt=curr.next
        curr.next=prev
        prev=curr
        curr=nextt
    return prev 
def merge_list(a,b):
    nextt=b
    h=a
    t=a
    while nextt :
        nextt1=t.next
        t.next=nextt
        t=t.next
        nextt=nextt1
    return h
        
class Solution:
    def reorderList(self, head: Optional[ListNode]) -> None:
        """
        Do not return anything, modify head in-place instead.
        """
        if not head or not head.next:
            return
        
        a,b=_sp(head)
        b=_reverse(b)
        head=merge_list(a,b)
        return head
```
::::

### 分析
- 時間複雜度：$\mathcal{O}(n)$
- 空間複雜度：$\mathcal{O}(1)$  
