---
title: 137
---

# 137.  
## 解答
1. hash map   
2. each bit mod 3  
3. bit xor  
### 實作1

:::: code-group
::: code-group-item c++

``` cpp
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        unordered_map<int,int> freq;
        for(int i : nums){
            freq[i]++;
        }
        int res=-1;
        for(auto[num,i]:freq){
            if(i==1){
                res=num
                break
            }
        }
        return res;
    }   
};
```
### 分析
- 時間複雜度：$\mathcal{O}(2n)$  
- 空間複雜度：$\mathcal{O}(n)$
### 實作2
``` cpp
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        int res=0;
        //int has 32 bit
        for(int i=0;i<32;i++){
            int total=0;
            // each nums=[a,a,a,b....]
            for(int j : nums){
                // sum all i-th bit
                total +=(j>>i & 1);
            }
            // if total % 3 ==1 then answer
            if(total %3){
                res |= (j<<i) ;
            }
        }
        return res;
    }   
};
```
### 分析
- 時間複雜度：$\mathcal{O}(32n)$  
- 空間複雜度：$\mathcal{O}(1)$
### 實作3
``` cpp
class Solution {
public:
    int singleNumber(vector<int>& nums) {
        int a=0, b=0;
        for( const int num : nums){
            // 法一 同時運算
            tie(a,b)=pair{(~a & b & num) | ( a & ~b & ~num), (~a & ~b & num) | ( ~a & b & ~num)};
            // 法二 先算b 再用算好的b 算a
            // b = ~a & (b ^ num);
            // a = ~b & (a ^ num);
            
        }
        return b;
    }   
};
```
### 分析
- 時間複雜度：$\mathcal{O}(n)$  
- 空間複雜度：$\mathcal{O}(1)$
:::
 
::: code-group-item python

``` python

```
::::

